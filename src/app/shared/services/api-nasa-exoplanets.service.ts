import { Exoplanet } from './../../components/models/exoplanet';
import { Observable } from 'rxjs';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class ApiNasaExoplanetsService {

  queryAPI:string = 'https://exoplanetarchive.ipac.caltech.edu/TAP/sync?query=select+pl_name,hostname,discoverymethod,disc_year,pl_orbper,pl_masse+from+ps&format=json';

  exoplanetsArray: Array<Exoplanet> = [{"pl_name": "OGLE-2012-BLG-0950L b",
  "hostname": "OGLE-2012-BLG-0950L",
  "discoverymethod": "Microlensing",
  "disc_year": 2016,
  "pl_orbper": null,
  "pl_masse": 24.00000},
  {"pl_name": "Kepler-120 b",
  "hostname": "Kepler-120",
  "discoverymethod": "Transit",
  "disc_year": 2014,
  "pl_orbper": 6.31300000,
  "pl_masse": 8.50000},
  {"pl_name": "KMT-2016-BLG-1836L b",
  "hostname": "KMT-2016-BLG-1836L",
  "discoverymethod": "Microlensing",
  "disc_year": 2019,
  "pl_orbper": null,
  "pl_masse": 700.00000},
  {"pl_name": "OGLE-2018-BLG-0677L b",
  "hostname": "OGLE-2018-BLG-0677L",
  "discoverymethod": "Microlensing",
  "disc_year": 2020,
  "pl_orbper": null,
  "pl_masse": 3.96000},
  {"pl_name": "KMT-2018-BLG-0029L b",
  "hostname": "KMT-2018-BLG-0029L",
  "discoverymethod": "Microlensing",
  "disc_year": 2020,
  "pl_orbper": null,
  "pl_masse": 7.59000},
  {"pl_name": "KMT-2019-BLG-1339L b",
  "hostname": "KMT-2019-BLG-1339L",
  "discoverymethod": "Microlensing",
  "disc_year": 2020,
  "pl_orbper": null,
  "pl_masse": 404.00000},
  {"pl_name": "KMT-2018-BLG-0748L b",
  "hostname": "KMT-2018-BLG-0748L",
  "discoverymethod": "Microlensing",
  "disc_year": 2020,
  "pl_orbper": null,
  "pl_masse": 60.00000},
  {"pl_name": "OGLE-2017-BLG-1375L b",
  "hostname": "OGLE-2017-BLG-1375L",
  "discoverymethod": "Microlensing",
  "disc_year": 2020,
  "pl_orbper": null,
  "pl_masse": 3283.00000},
  {"pl_name": "MOA-2011-BLG-262L b",
  "hostname": "MOA-2011-BLG-262L",
  "discoverymethod": "Microlensing",
  "disc_year": 2014,
  "pl_orbper": null,
  "pl_masse": 0.47000},
  {"pl_name": "Kepler-414 c",
  "hostname": "Kepler-414",
  "discoverymethod": "Transit Timing Variations",
  "disc_year": 2014,
  "pl_orbper": 7.17100000,
  "pl_masse": 29.90000},
  {"pl_name": "OGLE-2016-BLG-1195L b",
  "hostname": "OGLE-2016-BLG-1195L",
  "discoverymethod": "Microlensing",
  "disc_year": 2017,
  "pl_orbper": null,
  "pl_masse": 1.43000},
  {"pl_name": "MOA-2012-BLG-505L b",
  "hostname": "MOA-2012-BLG-505L",
  "discoverymethod": "Microlensing",
  "disc_year": 2017,
  "pl_orbper": null,
  "pl_masse": 6.70000},
  {"pl_name": "OGLE-2016-BLG-0263L b",
  "hostname": "OGLE-2016-BLG-0263L",
  "discoverymethod": "Microlensing",
  "disc_year": 2017,
  "pl_orbper": null,
  "pl_masse": 1300.00000},
  {"pl_name": "Kepler-136 b",
  "hostname": "Kepler-136",
  "discoverymethod": "Transit",
  "disc_year": 2014,
  "pl_orbper": 11.57900000,
  "pl_masse": 19.80000},
  {"pl_name": "SWEEPS-11 b",
  "hostname": "SWEEPS-11",
  "discoverymethod": "Transit",
  "disc_year": 2006,
  "pl_orbper": 1.79600000,
  "pl_masse": 3082.82000},
  {"pl_name": "Kepler-30 c",
  "hostname": "Kepler-30",
  "discoverymethod": "Transit",
  "disc_year": 2012,
  "pl_orbper": 60.33200000,
  "pl_masse": 527.70000},
  {"pl_name": "Kepler-32 c",
  "hostname": "Kepler-32",
  "discoverymethod": "Transit",
  "disc_year": 2011,
  "pl_orbper": 8.75200000,
  "pl_masse": 7.70000},
  {"pl_name": "Kepler-450 c",
  "hostname": "Kepler-450",
  "discoverymethod": "Transit",
  "disc_year": 2015,
  "pl_orbper": 15.41313950,
  "pl_masse": 12.50000},
  {"pl_name": "Kepler-327 b",
  "hostname": "Kepler-327",
  "discoverymethod": "Transit",
  "disc_year": 2014,
  "pl_orbper": 2.55000000,
  "pl_masse": null},
  {"pl_name": "HD 1461 b",
  "hostname": "HD 1461",
  "discoverymethod": "Radial Velocity",
  "disc_year": 2010,
  "pl_orbper": 5.77270000,
  "pl_masse": null},
  {"pl_name": "PSR B1620-26 b",
  "hostname": "PSR B1620-26",
  "discoverymethod": "Pulsar Timing",
  "disc_year": 2003,
  "pl_orbper": null,
  "pl_masse": 794.57500},
  {"pl_name": "Kepler-30 c",
  "hostname": "Kepler-30",
  "discoverymethod": "Transit",
  "disc_year": 2012,
  "pl_orbper": 60.32600000,
  "pl_masse": 1603.80000},
  {"pl_name": "OGLE-2017-BLG-1375L b",
  "hostname": "OGLE-2017-BLG-1375L",
  "discoverymethod": "Microlensing",
  "disc_year": 2020,
  "pl_orbper": null,
  "pl_masse": 4183.00000},
  {"pl_name": "Kepler-307 b",
  "hostname": "Kepler-307",
  "discoverymethod": "Transit",
  "disc_year": 2013,
  "pl_orbper": 10.41600000,
  "pl_masse": 8.80000},
  {"pl_name": "Kepler-51 b",
  "hostname": "Kepler-51",
  "discoverymethod": "Transit",
  "disc_year": 2012,
  "pl_orbper": 45.15550230,
  "pl_masse": null},
  {"pl_name": "Kepler-25 c",
  "hostname": "Kepler-25",
  "discoverymethod": "Transit",
  "disc_year": 2011,
  "pl_orbper": 12.72000000,
  "pl_masse": 14.30000},
  {"pl_name": "OGLE-2016-BLG-0613L AB b",
  "hostname": "OGLE-2016-BLG-0613L AB",
  "discoverymethod": "Microlensing",
  "disc_year": 2017,
  "pl_orbper": null,
  "pl_masse": 372.00000},
  {"pl_name": "Kepler-56 b",
  "hostname": "Kepler-56",
  "discoverymethod": "Transit",
  "disc_year": 2012,
  "pl_orbper": 10.50100000,
  "pl_masse": 236.20000},
  {"pl_name": "Kepler-297 b",
  "hostname": "Kepler-297",
  "discoverymethod": "Transit",
  "disc_year": 2014,
  "pl_orbper": 38.86800000,
  "pl_masse": 48.50000},
  {"pl_name": "Kepler-51 c",
  "hostname": "Kepler-51",
  "discoverymethod": "Transit",
  "disc_year": 2012,
  "pl_orbper": 85.31287000,
  "pl_masse": null},
  {"pl_name": "Kepler-25 b",
  "hostname": "Kepler-25",
  "discoverymethod": "Transit",
  "disc_year": 2011,
  "pl_orbper": 6.23829700,
  "pl_masse": 8.70000},
  {"pl_name": "OGLE-2014-BLG-1722L b",
  "hostname": "OGLE-2014-BLG-1722L",
  "discoverymethod": "Microlensing",
  "disc_year": 2018,
  "pl_orbper": null,
  "pl_masse": 55.30000},
  {"pl_name": "Kepler-18 c",
  "hostname": "Kepler-18",
  "discoverymethod": "Transit",
  "disc_year": 2011,
  "pl_orbper": 7.64200000,
  "pl_masse": 18.40000},
  {"pl_name": "OGLE-2013-BLG-1761L b",
  "hostname": "OGLE-2013-BLG-1761L",
  "discoverymethod": "Microlensing",
  "disc_year": 2018,
  "pl_orbper": null,
  "pl_masse": 860.00000},
  {"pl_name": "KMT-2016-BLG-2142L b",
  "hostname": "KMT-2016-BLG-2142L",
  "discoverymethod": "Microlensing",
  "disc_year": 2018,
  "pl_orbper": null,
  "pl_masse": 4923.00000},
  {"pl_name": "MOA-2016-BLG-319L b",
  "hostname": "MOA-2016-BLG-319L",
  "discoverymethod": "Microlensing",
  "disc_year": 2018,
  "pl_orbper": null,
  "pl_masse": 200.00000},
  {"pl_name": "Kepler-23 b",
  "hostname": "Kepler-23",
  "discoverymethod": "Transit",
  "disc_year": 2011,
  "pl_orbper": 7.10700000,
  "pl_masse": 15.20000},
  {"pl_name": "Kepler-161 b",
  "hostname": "Kepler-161",
  "discoverymethod": "Transit",
  "disc_year": 2014,
  "pl_orbper": 4.92100000,
  "pl_masse": 12.10000},
  {"pl_name": "Kepler-184 b",
  "hostname": "Kepler-184",
  "discoverymethod": "Transit",
  "disc_year": 2014,
  "pl_orbper": 10.68800000,
  "pl_masse": null},
  {"pl_name": "Kepler-279 c",
  "hostname": "Kepler-279",
  "discoverymethod": "Transit",
  "disc_year": 2013,
  "pl_orbper": 35.73600000,
  "pl_masse": 49.40000},
  {"pl_name": "Kepler-396 c",
  "hostname": "Kepler-396",
  "discoverymethod": "Transit",
  "disc_year": 2013,
  "pl_orbper": 88.50500000,
  "pl_masse": 17.90000},
  {"pl_name": "HD 74156 c",
  "hostname": "HD 74156",
  "discoverymethod": "Radial Velocity",
  "disc_year": 2003,
  "pl_orbper": 2448.90000000,
  "pl_masse": null},
  {"pl_name": "MOA-2016-BLG-227L b",
  "hostname": "MOA-2016-BLG-227L",
  "discoverymethod": "Microlensing",
  "disc_year": 2017,
  "pl_orbper": null,
  "pl_masse": 1500.00000},
  {"pl_name": "KMT-2016-BLG-1836L b",
  "hostname": "KMT-2016-BLG-1836L",
  "discoverymethod": "Microlensing",
  "disc_year": 2019,
  "pl_orbper": null,
  "pl_masse": 700.00000},
  {"pl_name": "MOA-2015-BLG-337L b",
  "hostname": "MOA-2015-BLG-337L",
  "discoverymethod": "Microlensing",
  "disc_year": 2018,
  "pl_orbper": null,
  "pl_masse": 5720.00000},
  {"pl_name": "HD 4203 b",
  "hostname": "HD 4203",
  "discoverymethod": "Radial Velocity",
  "disc_year": 2001,
  "pl_orbper": 431.88000000,
  "pl_masse": null},
  {"pl_name": "HD 80606 b",
  "hostname": "HD 80606",
  "discoverymethod": "Radial Velocity",
  "disc_year": 2001,
  "pl_orbper": 111.42900000,
  "pl_masse": null},
  {"pl_name": "KMT-2017-BLG-1146L b",
  "hostname": "KMT-2017-BLG-1146L",
  "discoverymethod": "Microlensing",
  "disc_year": 2019,
  "pl_orbper": null,
  "pl_masse": 230.00000},
  {"pl_name": "MOA-2008-BLG-379L b",
  "hostname": "MOA-2008-BLG-379L",
  "discoverymethod": "Microlensing",
  "disc_year": 2013,
  "pl_orbper": null,
  "pl_masse": 1300.00000},
  {"pl_name": "Kepler-26 c",
  "hostname": "Kepler-26",
  "discoverymethod": "Transit",
  "disc_year": 2011,
  "pl_orbper": 17.25600000,
  "pl_masse": 6.12000},
  {"pl_name": "HD 4203 b",
  "hostname": "HD 4203",
  "discoverymethod": "Radial Velocity",
  "disc_year": 2001,
  "pl_orbper": 406.00000000,
  "pl_masse": null},
  {"pl_name": "HD 4203 b",
  "hostname": "HD 4203",
  "discoverymethod": "Radial Velocity",
  "disc_year": 2001,
  "pl_orbper": 437.05000000,
  "pl_masse": null},
  {"pl_name": "OGLE-2012-BLG-0950L b",
  "hostname": "OGLE-2012-BLG-0950L",
  "discoverymethod": "Microlensing",
  "disc_year": 2016,
  "pl_orbper": null,
  "pl_masse": 34.00000},
  {"pl_name": "OGLE-2012-BLG-0950L b",
  "hostname": "OGLE-2012-BLG-0950L",
  "discoverymethod": "Microlensing",
  "disc_year": 2016,
  "pl_orbper": null,
  "pl_masse": 20.00000},
  {"pl_name": "OGLE-2014-BLG-1760L b",
  "hostname": "OGLE-2014-BLG-1760L",
  "discoverymethod": "Microlensing",
  "disc_year": 2016,
  "pl_orbper": null,
  "pl_masse": 180.00000},
  {"pl_name": "Kepler-184 c",
  "hostname": "Kepler-184",
  "discoverymethod": "Transit",
  "disc_year": 2014,
  "pl_orbper": 20.30300000,
  "pl_masse": 8.80000},
  {"pl_name": "Kepler-79 c",
  "hostname": "Kepler-79",
  "discoverymethod": "Transit",
  "disc_year": 2012,
  "pl_orbper": 27.40200000,
  "pl_masse": 13.70000},
  {"pl_name": "Kepler-307 c",
  "hostname": "Kepler-307",
  "discoverymethod": "Transit",
  "disc_year": 2013,
  "pl_orbper": 13.07300000,
  "pl_masse": 3.90000},
  {"pl_name": "HD 190360 b",
  "hostname": "HD 190360",
  "discoverymethod": "Radial Velocity",
  "disc_year": 2003,
  "pl_orbper": 3902.00000000,
  "pl_masse": null},
  {"pl_name": "Kepler-122 f",
  "hostname": "Kepler-122",
  "discoverymethod": "Transit Timing Variations",
  "disc_year": 2014,
  "pl_orbper": 56.26800000,
  "pl_masse": 36.00000}]

  // queryAPI:string = 'https://exoplanetarchive.ipac.caltech.edu/cgi-bin/nstedAPI/nph-nstedAPI?table=cumulative&where=koi_disposition%20like%20%27CONFIRMED%27%20&format=json';

  constructor(private httpClient: HttpClient) { }

  headers = new HttpHeaders()
            .append('Access-Control-Allow-Origin', '*')
            .append('Referrer-Policy', 'strict-origin-when-cross-origin');

  getQuery(): Observable<Array<any>>{
    return this.httpClient.get<Array<any>>(`${this.queryAPI}`, { headers: this.headers });
  }

  getArray(){
    return this.exoplanetsArray;
  }
}
